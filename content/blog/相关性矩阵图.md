---
title: 相关性矩阵图
tags:
categories: R
---

# 两个连续型变量的可视化（基于ggcorrplot包）

```{r}
install.packages('ggcorrplot')
library(ggcorrplot)
library(tidyverse)
library(cowplot)
mtcars<-mtcars %>% 
  select(mpg,disp,hp,drat,wt,qsec)
corr<-round(cor(mtcars),1)
p1<-ggcorrplot(corr,method = 'square')
p2<-ggcorrplot(corr,method = 'circle')
p3<-plot_grid(p1,p2,ncol = 2,labels = LETTERS[1:2],align='vh')
```

# 矩阵图的修饰

```{r}
p1<-ggcorrplot(corr,type = 'lower',outline.color = 'white',colors = 
                 c('#6D9EC1','white','#E46726'))#右下方图
p2<-ggcorrplot(corr,type = 'upper',outline.color = 'white',colors = 
                 c('#084594','white','#ef3b2c'))#左上方图
p3<-ggcorrplot(corr,type = 'lower',lab = TRUE)#加入数字标签
p.mat<-cor_pmat(mtcars) #相关系数的统计学检验
p4<-ggcorrplot(corr,type ='lower',p.mat=p.mat)

p<-plot_grid(p1,p2,p3,p4,ncol = 2,labels = LETTERS[1:4],align = 'vh')
```

![矩阵图](相关性矩阵图.png)
